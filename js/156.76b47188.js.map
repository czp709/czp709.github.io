{"version":3,"file":"js/156.76b47188.js","mappings":"kJAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,UAAU,CAACG,IAAI,WAAWD,YAAY,gBAAgBE,MAAM,CAAC,MAAQN,EAAIO,SAAS,MAAQP,EAAIQ,MAAM,cAAc,UAAU,CAACN,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,KAAK,KAAO,aAAa,CAACJ,EAAG,WAAW,CAACO,MAAM,CAACC,MAAOV,EAAIO,SAASI,SAAUC,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIO,SAAU,WAAYM,EAAI,EAAEE,WAAW,wBAAwB,GAAGb,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,MAAM,KAAO,aAAa,CAACJ,EAAG,cAAc,CAACc,YAAY,CAAC,MAAQ,QAAQV,MAAM,CAAC,mBAAkB,EAAM,MAAQN,EAAIiB,aAAa,QAAUjB,EAAIkB,SAAS,UAAY,GAAG,WAAa,IAAIT,MAAM,CAACC,MAAOV,EAAIO,SAASY,SAAUP,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIO,SAAU,WAAYM,EAAI,EAAEE,WAAW,wBAAwB,GAAGb,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,aAAa,CAACJ,EAAG,kBAAkB,CAACc,YAAY,CAAC,MAAQ,QAAQV,MAAM,CAAC,SAAW,GAAG,UAAW,GAAOG,MAAM,CAACC,MAAOV,EAAIO,SAASa,SAAUR,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIO,SAAU,WAAYM,EAAI,EAAEE,WAAW,wBAAwB,GAAGb,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,aAAa,CAACJ,EAAG,YAAY,CAACc,YAAY,CAAC,MAAQ,QAAQP,MAAM,CAACC,MAAOV,EAAIO,SAASc,SAAUT,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIO,SAAU,WAAYM,EAAI,EAAEE,WAAW,sBAAsB,CAACb,EAAG,YAAY,CAACI,MAAM,CAAC,SAA6B,KAAlBN,EAAIsB,WAAkB,MAAQ,KAAK,MAAQ,OAAOpB,EAAG,YAAY,CAACI,MAAM,CAAC,SAA6B,KAAlBN,EAAIsB,WAAkB,MAAQ,MAAM,MAAQ,OAAOpB,EAAG,YAAY,CAACI,MAAM,CAAC,MAAQ,KAAK,MAAQ,IAAI,SAA6B,KAAlBN,EAAIsB,eAAsB,IAAI,GAAGpB,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACJ,EAAG,WAAW,CAACO,MAAM,CAACC,MAAOV,EAAIO,SAASgB,KAAMX,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIO,SAAU,OAAQM,EAAI,EAAEE,WAAW,oBAAoB,GAAGb,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,cAAc,CAACJ,EAAG,WAAW,CAACO,MAAM,CAACC,MAAOV,EAAIO,SAASiB,UAAWZ,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIO,SAAU,YAAaM,EAAI,EAAEE,WAAW,yBAAyB,GAAGb,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,UAAU,CAACJ,EAAG,WAAW,CAACO,MAAM,CAACC,MAAOV,EAAIO,SAASkB,MAAOb,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIO,SAAU,QAASM,EAAI,EAAEE,WAAW,qBAAqB,GAAGb,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,KAAK,KAAO,SAAS,CAACJ,EAAG,cAAc,CAACO,MAAM,CAACC,MAAOV,EAAIO,SAASmB,KAAMd,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIO,SAAU,OAAQM,EAAI,EAAEE,WAAW,oBAAoB,GAAGb,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,KAAK,KAAO,YAAY,CAACJ,EAAG,YAAY,CAACI,MAAM,CAAC,eAAe,EAAE,iBAAiB,EAAE,cAAc,IAAI,gBAAgB,KAAKG,MAAM,CAACC,MAAOV,EAAIO,SAASoB,QAASf,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIO,SAAU,UAAWM,EAAI,EAAEE,WAAW,uBAAuB,GAAGb,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,YAAY,CAACJ,EAAG,YAAY,CAACI,MAAM,CAAC,eAAe,EAAE,iBAAiB,EAAE,cAAc,IAAI,gBAAgB,KAAKG,MAAM,CAACC,MAAOV,EAAIO,SAASqB,QAAShB,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIO,SAAU,UAAWM,EAAI,EAAEE,WAAW,uBAAuB,IAAI,GAAGb,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,WAAW,CAACJ,EAAG,YAAY,CAACI,MAAM,CAAC,eAAe,EAAE,iBAAiB,EAAE,cAAc,KAAK,gBAAgB,MAAMG,MAAM,CAACC,MAAOV,EAAIO,SAASsB,OAAQjB,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIO,SAAU,SAAUM,EAAI,EAAEE,WAAW,sBAAsB,GAAGb,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,OAAO,KAAO,YAAY,CAACJ,EAAG,YAAY,CAACI,MAAM,CAAC,eAAe,EAAE,iBAAiB,EAAE,cAAc,KAAK,gBAAgB,MAAMG,MAAM,CAACC,MAAOV,EAAIO,SAASuB,QAASlB,SAAS,SAAUC,GAAMb,EAAIc,KAAKd,EAAIO,SAAU,UAAWM,EAAI,EAAEE,WAAW,uBAAuB,IAAI,IAAI,GAAGb,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,YAAY,CAACI,MAAM,CAAC,KAAO,WAAWyB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhC,EAAIiC,WAAW,WAAW,IAAI,CAACjC,EAAIkC,GAAG,UAAUhC,EAAG,YAAY,CAAC6B,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOhC,EAAImC,MAAM,QAAQ,IAAI,CAACnC,EAAIkC,GAAG,SAAS,IAAI,EAC74H,EACIE,EAAkB,G,UCsGtB,GACAC,KAAA,WACAC,MAAA,CACApB,SAAA,CACAqB,KAAAC,MACAC,QAAAA,IACA,KAIAC,IAAAA,GACA,OACAnC,SAAA,CACAI,SAAA,GACAS,SAAA,KACAC,SAAA,GACAE,KAAA,GACAJ,SAAA,IACAK,UAAA,GACAC,MAAA,GACAC,KAAA,eACAC,QAAA,EACAC,QAAA,EACAC,OAAA,EACAC,QAAA,GAEAb,aAAA,CACA0B,MAAA,WACAC,SAAA,WACAlC,MAAA,SACAmC,UAAA,EACAC,eAAA,GAEAxB,WAAA,GAEA,EACAyB,SAAA,CACAvC,KAAAA,GACA,MAAAwC,EAAAA,CAAAC,EAAAvC,EAAAE,KACA,KAAAF,EACAE,EAAA,IAAAsC,MAAA,YAEAtC,GACA,EAEAuC,EAAAA,CAAAF,EAAAvC,EAAAE,KACA,KAAAF,EACAE,EAAA,IAAAsC,MAAA,YAEAtC,GACA,EAEAJ,EAAA,CACAG,SAAA,CACA,CAAAyC,UAAA,EAAAC,QAAA,UAAAC,QAAA,QACA,CACAC,IAAA,EACAC,IAAA,GACAH,QAAA,iBACAC,QAAA,SAGAjC,SAAA,CACA,CAAA+B,UAAA,EAAAC,QAAA,UAAAC,QAAA,SAEA/B,KAAA,EAAA6B,UAAA,EAAAK,UAAAT,EAAAM,QAAA,UASA,MAPA,UAAA/C,SAAAc,SACAb,EAAAgB,UAAA,CACA,CAAA4B,UAAA,EAAAK,UAAAN,EAAAG,QAAA,gBAGA9C,EAAAgB,UAEAhB,CACA,GAEAkD,QAAA,CACAC,SAAAA,CAAAC,GACA,KAAAC,MAAAD,GAAAE,cACA,KAAA3B,MAAA,QACA,EACAF,UAAAA,CAAA2B,GACA,KAAAC,MAAAD,GAAAG,UAAAC,IACAA,IACAC,EAAAA,EAAAA,IAAA,SAAA1D,WAAA2D,MAAA,KACA,KAAA/B,MAAA,UACA,KAAAA,MAAA,WAEA,GAEA,EACA8B,OAAAA,CAAAvB,EAAAtB,GACA,MAAAD,EAAAuB,EAAAyB,OACA,KAAA7C,WAAAoB,EAAArB,SACA,KAAA+C,WACA,KAAAC,WAAA,KACA,KAAAvD,KAAA,KAAAP,SAAA,WAAAY,GACA,KAAAL,KAAA,KAAAP,SAAA,WAAAa,EAAA,GAEA,EACAkD,QAAAA,CAAAC,GACA,KAAAH,YACAI,EAAAA,EAAAA,IAAAD,GAAAL,MAAAO,IACA,KAAAlE,SAAAkE,EAAA/B,IAAA,GAEA,EACA0B,QAAAA,GACA,KAAA7D,SAAA,CACAI,SAAA,GACAS,SAAA,KACAC,SAAA,GACAE,KAAA,GACAJ,SAAA,IACAK,UAAA,GACAC,MAAA,GACAC,KAAA,eACAC,QAAA,EACAC,QAAA,EACAC,OAAA,EACAC,QAAA,GAEA,KAAAuC,WAAA,KACA,KAAAR,MAAA,YAAAC,aAAA,GAEA,ICrO0Q,I,UCQtQtC,GAAY,OACd,EACAzB,EACAqC,GACA,EACA,KACA,WACA,MAIF,EAAeZ,EAAiB,O,0LChBzB,SAASyC,EAAQvB,GACtB,OAAOgC,EAAAA,EAAAA,GAAQ,CACbC,IAAKC,EAAAA,EAAQC,IAAM,iBACnBC,OAAQ,OACRpC,QAEJ,CACO,SAASqC,EAAWC,GACzB,OAAON,EAAAA,EAAAA,GAAQ,CACbC,IAAKC,EAAAA,EAAQC,IAAM,oBACnBC,OAAQ,SACRE,UAEJ,CACO,SAASC,IACd,OAAOP,EAAAA,EAAAA,GAAQ,CACbC,IAAKC,EAAAA,EAAQC,IAAM,qBACnBC,OAAQ,QACPZ,MAAMO,IACPS,EAAAA,EAAMC,SAAS,oBACRV,IAEX,CACO,SAASD,EAAYD,GAC1B,OAAOG,EAAAA,EAAAA,GAAQ,CACbC,IAAKC,EAAAA,EAAQC,IAAM,sBAAwBN,EAC3CO,OAAQ,OAEZ,CACO,SAASM,EAASjE,EAAUuB,GACjC,OAAOgC,EAAAA,EAAAA,GAAQ,CACbC,IAAKC,EAAAA,EAAQC,IAAM,4BAA8B1D,EACjD2D,OAAQ,OACRpC,SACCwB,MAAMO,IACPS,EAAAA,EAAMC,SAAS,oBACRV,IAEX,C","sources":["webpack://vue/./src/views/MenuManage/components/MenuForm.vue","webpack://vue/src/views/MenuManage/components/MenuForm.vue","webpack://vue/./src/views/MenuManage/components/MenuForm.vue?cb9e","webpack://vue/./src/views/MenuManage/components/MenuForm.vue?9577","webpack://vue/./src/api/menu.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"MenuForm\"},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"menuName\"}},[_c('el-input',{model:{value:(_vm.ruleForm.menuName),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"menuName\", $$v)},expression:\"ruleForm.menuName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"父菜单\",\"prop\":\"parentId\"}},[_c('el-cascader',{staticStyle:{\"width\":\"100%\"},attrs:{\"show-all-levels\":false,\"props\":_vm.defaultProps,\"options\":_vm.menuTree,\"clearable\":\"\",\"filterable\":\"\"},model:{value:(_vm.ruleForm.parentId),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"parentId\", $$v)},expression:\"ruleForm.parentId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"显示顺序\",\"prop\":\"orderNum\"}},[_c('el-input-number',{staticStyle:{\"width\":\"100%\"},attrs:{\"disabled\":\"\",\"controls\":false},model:{value:(_vm.ruleForm.orderNum),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"orderNum\", $$v)},expression:\"ruleForm.orderNum\"}})],1),_c('el-form-item',{attrs:{\"label\":\"菜单类型\",\"prop\":\"menuType\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.ruleForm.menuType),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"menuType\", $$v)},expression:\"ruleForm.menuType\"}},[_c('el-option',{attrs:{\"disabled\":_vm.parentType != 'M',\"label\":\"菜单\",\"value\":\"M\"}}),_c('el-option',{attrs:{\"disabled\":_vm.parentType == 'C',\"label\":\"非菜单\",\"value\":\"C\"}}),_c('el-option',{attrs:{\"label\":\"权限\",\"value\":\"F\",\"disabled\":_vm.parentType != 'C'}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"路由地址\",\"prop\":\"path\"}},[_c('el-input',{model:{value:(_vm.ruleForm.path),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"path\", $$v)},expression:\"ruleForm.path\"}})],1),_c('el-form-item',{attrs:{\"label\":\"组件路径\",\"prop\":\"component\"}},[_c('el-input',{model:{value:(_vm.ruleForm.component),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"component\", $$v)},expression:\"ruleForm.component\"}})],1),_c('el-form-item',{attrs:{\"label\":\"组件参数\",\"prop\":\"query\"}},[_c('el-input',{model:{value:(_vm.ruleForm.query),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"query\", $$v)},expression:\"ruleForm.query\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图标\",\"prop\":\"icon\"}},[_c('IconChooser',{model:{value:(_vm.ruleForm.icon),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"icon\", $$v)},expression:\"ruleForm.icon\"}})],1),_c('div',{staticClass:\"MenuForm-switch\"},[_c('el-form-item',{attrs:{\"label\":\"外链\",\"prop\":\"isFrame\"}},[_c('el-switch',{attrs:{\"active-value\":0,\"inactive-value\":1,\"active-text\":\"是\",\"inactive-text\":\"否\"},model:{value:(_vm.ruleForm.isFrame),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"isFrame\", $$v)},expression:\"ruleForm.isFrame\"}})],1),_c('el-form-item',{attrs:{\"label\":\"是否缓存\",\"prop\":\"isCache\"}},[_c('el-switch',{attrs:{\"active-value\":0,\"inactive-value\":1,\"active-text\":\"是\",\"inactive-text\":\"否\"},model:{value:(_vm.ruleForm.isCache),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"isCache\", $$v)},expression:\"ruleForm.isCache\"}})],1)],1),_c('div',{staticClass:\"MenuForm-switch\"},[_c('el-form-item',{attrs:{\"label\":\"菜单状态\",\"prop\":\"status\"}},[_c('el-switch',{attrs:{\"active-value\":0,\"inactive-value\":1,\"active-text\":\"启用\",\"inactive-text\":\"停用\"},model:{value:(_vm.ruleForm.status),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"status\", $$v)},expression:\"ruleForm.status\"}})],1),_c('el-form-item',{attrs:{\"label\":\"菜单显隐\",\"prop\":\"visible\"}},[_c('el-switch',{attrs:{\"active-value\":0,\"inactive-value\":1,\"active-text\":\"显示\",\"inactive-text\":\"隐藏\"},model:{value:(_vm.ruleForm.visible),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"visible\", $$v)},expression:\"ruleForm.visible\"}})],1)],1)],1),_c('div',{staticClass:\"MenuForm-action\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\" 保存 \")]),_c('el-button',{on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\"取消\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"MenuForm\">\n    <el-form\n      ref=\"ruleForm\"\n      :model=\"ruleForm\"\n      :rules=\"rules\"\n      label-width=\"100px\"\n      class=\"demo-ruleForm\">\n      <el-form-item label=\"名称\" prop=\"menuName\">\n        <el-input v-model=\"ruleForm.menuName\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"父菜单\" prop=\"parentId\">\n        <el-cascader\n          v-model=\"ruleForm.parentId\"\n          style=\"width: 100%\"\n          :show-all-levels=\"false\"\n          :props=\"defaultProps\"\n          :options=\"menuTree\"\n          clearable\n          filterable></el-cascader>\n      </el-form-item>\n      <el-form-item label=\"显示顺序\" prop=\"orderNum\">\n        <el-input-number\n          v-model=\"ruleForm.orderNum\"\n          disabled\n          style=\"width: 100%\"\n          :controls=\"false\"></el-input-number>\n      </el-form-item>\n      <el-form-item label=\"菜单类型\" prop=\"menuType\">\n        <el-select v-model=\"ruleForm.menuType\" style=\"width: 100%\">\n          <el-option\n            :disabled=\"parentType != 'M'\"\n            label=\"菜单\"\n            value=\"M\"></el-option>\n          <el-option\n            :disabled=\"parentType == 'C'\"\n            label=\"非菜单\"\n            value=\"C\"></el-option>\n          <el-option\n            label=\"权限\"\n            value=\"F\"\n            :disabled=\"parentType != 'C'\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"路由地址\" prop=\"path\">\n        <el-input v-model=\"ruleForm.path\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"组件路径\" prop=\"component\">\n        <el-input v-model=\"ruleForm.component\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"组件参数\" prop=\"query\">\n        <el-input v-model=\"ruleForm.query\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"图标\" prop=\"icon\">\n        <IconChooser v-model=\"ruleForm.icon\"></IconChooser>\n      </el-form-item>\n      <div class=\"MenuForm-switch\">\n        <el-form-item label=\"外链\" prop=\"isFrame\">\n          <el-switch\n            v-model=\"ruleForm.isFrame\"\n            :active-value=\"0\"\n            :inactive-value=\"1\"\n            active-text=\"是\"\n            inactive-text=\"否\"></el-switch>\n        </el-form-item>\n        <el-form-item label=\"是否缓存\" prop=\"isCache\">\n          <el-switch\n            v-model=\"ruleForm.isCache\"\n            :active-value=\"0\"\n            :inactive-value=\"1\"\n            active-text=\"是\"\n            inactive-text=\"否\"></el-switch>\n        </el-form-item>\n      </div>\n      <div class=\"MenuForm-switch\">\n        <el-form-item label=\"菜单状态\" prop=\"status\">\n          <el-switch\n            v-model=\"ruleForm.status\"\n            :active-value=\"0\"\n            :inactive-value=\"1\"\n            active-text=\"启用\"\n            inactive-text=\"停用\"></el-switch>\n        </el-form-item>\n        <el-form-item label=\"菜单显隐\" prop=\"visible\">\n          <el-switch\n            v-model=\"ruleForm.visible\"\n            :active-value=\"0\"\n            :inactive-value=\"1\"\n            active-text=\"显示\"\n            inactive-text=\"隐藏\"></el-switch>\n        </el-form-item>\n      </div>\n    </el-form>\n    <div class=\"MenuForm-action\">\n      <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">\n        保存\n      </el-button>\n      <el-button @click=\"$emit('close')\">取消</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { addMenu, getMenuInfo } from '@/api/menu'\nexport default {\n  name: 'MenuForm',\n  props: {\n    menuTree: {\n      type: Array,\n      default: () => {\n        return []\n      },\n    },\n  },\n  data() {\n    return {\n      ruleForm: {\n        menuName: '',\n        orderNum: null,\n        menuType: '',\n        path: '',\n        parentId: '0',\n        component: '',\n        query: '',\n        icon: 'el-icon-menu',\n        isFrame: 1,\n        isCache: 0,\n        status: 0,\n        visible: 0,\n      },\n      defaultProps: {\n        label: 'menuName',\n        children: 'children',\n        value: 'menuId',\n        emitPath: false,\n        checkStrictly: true,\n      },\n      parentType: '',\n    }\n  },\n  computed: {\n    rules() {\n      const validatePath = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请输入路由地址'))\n        } else {\n          callback()\n        }\n      }\n      const validateComponent = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('请输入组件地址'))\n        } else {\n          callback()\n        }\n      }\n      const rules = {\n        menuName: [\n          { required: true, message: '请输入菜单名称', trigger: 'blur' },\n          {\n            min: 1,\n            max: 50,\n            message: '长度在 1 到 50 个字符',\n            trigger: 'blur',\n          },\n        ],\n        menuType: [\n          { required: true, message: '请选择菜单类型', trigger: 'blur' },\n        ],\n        path: [{ required: true, validator: validatePath, trigger: 'blur' }],\n      }\n      if (this.ruleForm.menuType == 'C') {\n        rules.component = [\n          { required: true, validator: validateComponent, trigger: 'blur' },\n        ]\n      } else {\n        delete rules.component\n      }\n      return rules\n    },\n  },\n  methods: {\n    resetForm(formName) {\n      this.$refs[formName].resetFields()\n      this.$emit('close')\n    },\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          addMenu({ ...this.ruleForm }).then(() => {\n            this.$emit('reload')\n            this.$emit('close')\n          })\n        }\n      })\n    },\n    addMenu(data, orderNum) {\n      const parentId = data.menuId\n      this.parentType = data.menuType\n      this.initData()\n      this.$nextTick(() => {\n        this.$set(this.ruleForm, 'parentId', parentId)\n        this.$set(this.ruleForm, 'orderNum', orderNum)\n      })\n    },\n    editMenu(id) {\n      this.initData()\n      getMenuInfo(id).then((res) => {\n        this.ruleForm = res.data\n      })\n    },\n    initData() {\n      this.ruleForm = {\n        menuName: '',\n        orderNum: null,\n        menuType: '',\n        path: '',\n        parentId: '0',\n        component: '',\n        query: '',\n        icon: 'el-icon-menu',\n        isFrame: 1,\n        isCache: 0,\n        status: 0,\n        visible: 0,\n      }\n      this.$nextTick(() => {\n        this.$refs['ruleForm'].resetFields()\n      })\n    },\n  },\n}\n</script>\n<style scoped lang=\"less\">\n.MenuForm {\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n}\n.MenuForm-switch {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  align-items: center;\n  // justify-content: space-between;\n}\n.demo-ruleForm {\n  display: grid;\n  grid-column-gap: 16px;\n  grid-template-columns: 1fr 1fr;\n}\n.MenuForm-action {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n}\n/deep/.el-form-item__content {\n  display: flex;\n  align-items: center;\n  height: 40px;\n}\n/deep/.el-input-number {\n  .el-input__inner {\n    text-align: left;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MenuForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MenuForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MenuForm.vue?vue&type=template&id=02592a8d&scoped=true&\"\nimport script from \"./MenuForm.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MenuForm.vue?vue&type=style&index=0&id=02592a8d&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"02592a8d\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\nimport Setting from '@/utils/setting'\nimport store from '@/store'\nexport function addMenu(data) {\n  return request({\n    url: Setting.api + '/menus/addMenu',\n    method: 'POST',\n    data,\n  })\n}\nexport function deleteMenu(params) {\n  return request({\n    url: Setting.api + '/menus/deleteMenu',\n    method: 'delete',\n    params,\n  })\n}\nexport function getMenuTree() {\n  return request({\n    url: Setting.api + '/menus/getMenuTree',\n    method: 'get',\n  }).then((res) => {\n    store.dispatch('user/getMenuData')\n    return res\n  })\n}\nexport function getMenuInfo(id) {\n  return request({\n    url: Setting.api + '/menus/getMenuInfo/' + id,\n    method: 'get',\n  })\n}\nexport function sortMenu(parentId, data) {\n  return request({\n    url: Setting.api + '/menus/sortMenu?parentId=' + parentId,\n    method: 'POST',\n    data,\n  }).then((res) => {\n    store.dispatch('user/getMenuData')\n    return res\n  })\n}\n"],"names":["render","_vm","this","_c","_self","staticClass","ref","attrs","ruleForm","rules","model","value","menuName","callback","$$v","$set","expression","staticStyle","defaultProps","menuTree","parentId","orderNum","menuType","parentType","path","component","query","icon","isFrame","isCache","status","visible","on","$event","submitForm","_v","$emit","staticRenderFns","name","props","type","Array","default","data","label","children","emitPath","checkStrictly","computed","validatePath","rule","Error","validateComponent","required","message","trigger","min","max","validator","methods","resetForm","formName","$refs","resetFields","validate","valid","addMenu","then","menuId","initData","$nextTick","editMenu","id","getMenuInfo","res","request","url","Setting","api","method","deleteMenu","params","getMenuTree","store","dispatch","sortMenu"],"sourceRoot":""}