{"version":3,"file":"js/812.17fa9c6f.js","mappings":"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","sources":["webpack://vue/./src/views/userManage/components/addUser.vue","webpack://vue/src/views/userManage/components/addUser.vue","webpack://vue/./src/views/userManage/components/addUser.vue?23a6","webpack://vue/./src/views/userManage/components/addUser.vue?e55a","webpack://vue/./src/views/userManage/userManage.vue","webpack://vue/src/views/userManage/userManage.vue","webpack://vue/./src/views/userManage/userManage.vue?fa5a","webpack://vue/./src/views/userManage/userManage.vue?fb64"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-dialog',{attrs:{\"title\":\"新增用户\",\"visible\":_vm.dialogVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"close\":_vm.close}},[_c('el-form',{ref:\"userInfo\",attrs:{\"label-width\":\"80px\",\"model\":_vm.userInfo,\"rules\":_vm.userInfoRule}},[_c('el-form-item',{attrs:{\"label\":\"组织\"}},[_c('el-cascader',{staticStyle:{\"width\":\"100%\"},attrs:{\"show-all-levels\":false,\"props\":_vm.defaultProps,\"options\":_vm.deptTree,\"clearable\":\"\",\"filterable\":\"\"},model:{value:(_vm.userInfo.deptId),callback:function ($$v) {_vm.$set(_vm.userInfo, \"deptId\", $$v)},expression:\"userInfo.deptId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"账号\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.userInfo.username),callback:function ($$v) {_vm.$set(_vm.userInfo, \"username\", $$v)},expression:\"userInfo.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{model:{value:(_vm.userInfo.password),callback:function ($$v) {_vm.$set(_vm.userInfo, \"password\", $$v)},expression:\"userInfo.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"nickname\"}},[_c('el-input',{model:{value:(_vm.userInfo.nickname),callback:function ($$v) {_vm.$set(_vm.userInfo, \"nickname\", $$v)},expression:\"userInfo.nickname\"}})],1),_c('el-form-item',{attrs:{\"label\":\"性别\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},model:{value:(_vm.userInfo.sex),callback:function ($$v) {_vm.$set(_vm.userInfo, \"sex\", $$v)},expression:\"userInfo.sex\"}},[_c('el-option',{attrs:{\"label\":\"男\",\"value\":\"0\"}}),_c('el-option',{attrs:{\"label\":\"女\",\"value\":\"1\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"邮箱\"}},[_c('el-input',{model:{value:(_vm.userInfo.email),callback:function ($$v) {_vm.$set(_vm.userInfo, \"email\", $$v)},expression:\"userInfo.email\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机\"}},[_c('el-input',{model:{value:(_vm.userInfo.phone),callback:function ($$v) {_vm.$set(_vm.userInfo, \"phone\", $$v)},expression:\"userInfo.phone\"}})],1),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"remark\"}},[_c('el-input',{model:{value:(_vm.userInfo.remark),callback:function ($$v) {_vm.$set(_vm.userInfo, \"remark\", $$v)},expression:\"userInfo.remark\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"确 定\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog\n    title=\"新增用户\"\n    :visible.sync=\"dialogVisible\"\n    width=\"50%\"\n    @close=\"close\">\n    <el-form\n      ref=\"userInfo\"\n      label-width=\"80px\"\n      :model=\"userInfo\"\n      :rules=\"userInfoRule\">\n      <el-form-item label=\"组织\">\n        <el-cascader\n          v-model=\"userInfo.deptId\"\n          style=\"width: 100%\"\n          :show-all-levels=\"false\"\n          :props=\"defaultProps\"\n          :options=\"deptTree\"\n          clearable\n          filterable></el-cascader>\n      </el-form-item>\n      <el-form-item label=\"账号\" prop=\"username\">\n        <el-input v-model=\"userInfo.username\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"密码\" prop=\"password\">\n        <el-input v-model=\"userInfo.password\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"名称\" prop=\"nickname\">\n        <el-input v-model=\"userInfo.nickname\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"性别\">\n        <el-select v-model=\"userInfo.sex\" style=\"width: 100%\">\n          <el-option label=\"男\" value=\"0\"></el-option>\n          <el-option label=\"女\" value=\"1\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"邮箱\">\n        <el-input v-model=\"userInfo.email\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"手机\">\n        <el-input v-model=\"userInfo.phone\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"备注\" prop=\"remark\">\n        <el-input v-model=\"userInfo.remark\"></el-input>\n      </el-form-item>\n    </el-form>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"dialogVisible = false\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"submit\">确 定</el-button>\n    </span>\n  </el-dialog>\n</template>\n\n<script>\nimport { getDeptTree, addUser } from '@/api/user.js'\nexport default {\n  name: 'AddUser',\n  data() {\n    return {\n      dialogVisible: false,\n      userInfo: {\n        deptId: '',\n        username: '',\n        password: '',\n        nickname: '',\n        sex: '',\n        email: '',\n        phone: '',\n        remark: '',\n      },\n      defaultProps: {\n        label: 'deptName',\n        children: 'children',\n        value: 'deptId',\n        emitPath: false,\n        checkStrictly: true,\n      },\n      userInfoRule: {\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur' },\n        ],\n        password: [{ required: true, message: '请输入密码', trigger: 'blur' }],\n        nickname: [{ required: true, message: '请输入昵称', trigger: 'blur' }],\n        remark: [{ max: 500, message: '请输入备注', trigger: 'blur' }],\n      },\n      deptTree: null,\n    }\n  },\n  mounted() {\n    this.getDeptTree()\n  },\n  methods: {\n    show() {\n      this.dialogVisible = true\n    },\n    getDeptTree() {\n      getDeptTree().then((res) => {\n        this.deptTree = res.data\n      })\n    },\n    submit() {\n      this.$refs.userInfo.validate((valid) => {\n        if (valid) {\n          addUser(this.userInfo).then(() => {\n            this.$message.success('添加成功')\n            this.dialogVisible = false\n            this.$emit('refresh')\n          })\n        } else {\n          return false\n        }\n      })\n    },\n    close() {\n      this.userInfo = {\n        deptId: '',\n        username: '',\n        password: '',\n        nickname: '',\n        sex: '',\n        email: '',\n        phone: '',\n        remark: '',\n      }\n    },\n  },\n}\n</script>\n<style scoped lang=\"less\"></style>\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./addUser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./addUser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./addUser.vue?vue&type=template&id=b61c44ec&scoped=true&\"\nimport script from \"./addUser.vue?vue&type=script&lang=js&\"\nexport * from \"./addUser.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b61c44ec\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"page\"},[_c('div',{staticClass:\"tree-box\"},[_c('el-tree',{attrs:{\"data\":_vm.tree,\"node-key\":\"deptId\",\"default-expand-all\":\"\",\"expand-on-click-node\":false,\"props\":_vm.defaultProps},on:{\"node-click\":_vm.handleNodeClick},scopedSlots:_vm._u([{key:\"default\",fn:function({ data }){return _c('span',{staticClass:\"tree-line\"},[_c('span',{staticClass:\"iconStr\"},[_c('TextTooltip',{attrs:{\"content\":data.deptName}})],1)])}}])})],1),_c('div',{staticClass:\"table\"},[_c('TablePage',{ref:\"tablePage\",attrs:{\"columns\":_vm.columns,\"filters\":_vm.filters,\"options\":_vm.options},scopedSlots:_vm._u([{key:\"filterCondition\",fn:function(){return [_c('div',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\" 新增用户 \")])],1)]},proxy:true}])})],1),_c('AddUser',{ref:\"addUser\",on:{\"refresh\":function($event){return _vm.$refs.tablePage.getList()}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page\">\n    <div class=\"tree-box\">\n      <el-tree\n        :data=\"tree\"\n        node-key=\"deptId\"\n        default-expand-all\n        :expand-on-click-node=\"false\"\n        :props=\"defaultProps\"\n        @node-click=\"handleNodeClick\">\n        <span slot-scope=\"{ data }\" class=\"tree-line\">\n          <span class=\"iconStr\">\n            <TextTooltip :content=\"data.deptName\"></TextTooltip>\n          </span>\n          <!-- <span class=\"icons\">\n            <i\n              title=\"编辑\"\n              class=\"el-icon-edit icon\"\n              style=\"margin-right: 8px\"></i>\n            <i title=\"删除\" class=\"el-icon-delete icon\"></i>\n          </span> -->\n        </span>\n      </el-tree>\n    </div>\n    <div class=\"table\">\n      <TablePage\n        ref=\"tablePage\"\n        :columns=\"columns\"\n        :filters=\"filters\"\n        :options=\"options\">\n        <template #filterCondition>\n          <div>\n            <el-button type=\"primary\" @click=\"addUser\"> 新增用户 </el-button>\n          </div>\n        </template>\n      </TablePage>\n    </div>\n    <AddUser ref=\"addUser\" @refresh=\"$refs.tablePage.getList()\"></AddUser>\n  </div>\n</template>\n<script>\nimport { getDeptTree, queryUser, changeStatus } from '@/api/user.js'\nimport AddUser from './components/addUser.vue'\nexport default {\n  name: 'DepartManage',\n  components: {\n    AddUser,\n  },\n  data() {\n    return {\n      tree: null,\n      defaultProps: {\n        label: 'deptName',\n        children: 'children',\n      },\n      deptId: '',\n    }\n  },\n  computed: {\n    options() {\n      return {\n        apiFunc: queryUser,\n        hideActionBtn: true,\n        filter: {\n          deptId: this.deptId,\n        },\n      }\n    },\n    columns() {\n      return [\n        {\n          key: 'userId',\n          label: '用户ID',\n        },\n        {\n          key: 'username',\n          label: '账号',\n        },\n        {\n          key: 'nickname',\n          label: '昵称',\n        },\n        {\n          key: 'deptName',\n          label: '部门',\n        },\n        {\n          key: 'phone',\n          label: '手机',\n        },\n        {\n          key: 'email',\n          label: '邮箱',\n        },\n        {\n          key: 'status',\n          label: '状态',\n          render: (h, params) => {\n            return h('el-switch', {\n              props: {\n                activeColor: '#13ce66',\n                inactiveColor: '#ff4949',\n                value: params.row.status == 0,\n              },\n              on: {\n                change: (newStatus) => {\n                  this.changeStatus(params.row, newStatus)\n                },\n              },\n            })\n          },\n        },\n      ]\n    },\n    filters() {\n      return [\n        {\n          key: 'username',\n          label: '账号',\n        },\n        {\n          key: 'nickname',\n          label: '昵称',\n        },\n        {\n          key: 'phone',\n          label: '手机',\n        },\n        {\n          key: 'email',\n          label: '邮箱',\n        },\n        {\n          key: 'status',\n          label: '状态',\n          render: (h, filterData) => {\n            return (\n              <el-select\n                v-model={filterData.status}\n                placeholder='请选择'\n                clearable>\n                <el-option key='0' label='启用' value='0'></el-option>\n                <el-option key='1' label='禁用' value='1'></el-option>\n              </el-select>\n            )\n          },\n        },\n      ]\n    },\n  },\n  created() {\n    this.getDeptTree()\n  },\n  methods: {\n    getDeptTree() {\n      getDeptTree().then((res) => {\n        this.tree = res.data\n      })\n    },\n    handleNodeClick(node) {\n      this.deptId = node.deptId\n      this.$nextTick(() => {\n        this.$refs.tablePage?.getList()\n      })\n    },\n    changeStatus(row, newStatus) {\n      const data = {\n        userId: row.userId,\n        status: newStatus ? 0 : 1,\n      }\n      changeStatus(data).then(() => {\n        this.$refs.tablePage.getList()\n      })\n    },\n    addUser() {\n      this.$refs.addUser.show()\n    },\n  },\n}\n</script>\n<style scoped lang=\"less\">\n.page {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.el-tree {\n  padding: 16px;\n}\n.tree-box {\n  width: 300px;\n  box-shadow: 1px 0 6px rgba(0, 0, 0, 0.2);\n  height: 100%;\n  margin-right: 16px;\n}\n.table {\n  position: relative;\n  width: calc(~'100% - 300px');\n  height: 100%;\n  box-shadow: 1px 0 6px rgba(0, 0, 0, 0.2);\n}\n/deep/.el-tree-node__content {\n  box-sizing: border-box;\n}\n.tree-line {\n  box-sizing: border-box;\n  width: calc(~'100% - 24px');\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between !important;\n  position: relative;\n}\n\n/deep/.iconStr {\n  width: calc(~'100% - 40px') !important;\n  display: flex;\n  align-items: center;\n  font-size: 14px;\n}\n/deep/.icons {\n  display: flex;\n  flex-direction: row !important;\n  align-items: center;\n  position: absolute;\n  right: 0;\n  top: 50%;\n  transform: translateY(-50%);\n}\n.el-pagination {\n  text-align: right;\n  margin: 8px 0;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./userManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./userManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userManage.vue?vue&type=template&id=060a3aab&scoped=true&\"\nimport script from \"./userManage.vue?vue&type=script&lang=js&\"\nexport * from \"./userManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userManage.vue?vue&type=style&index=0&id=060a3aab&prod&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"060a3aab\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","dialogVisible","on","$event","close","ref","userInfo","userInfoRule","staticStyle","defaultProps","deptTree","model","value","deptId","callback","$$v","$set","expression","username","password","nickname","sex","email","phone","remark","staticClass","slot","_v","submit","staticRenderFns","name","data","label","children","emitPath","checkStrictly","required","message","trigger","max","mounted","getDeptTree","methods","show","then","res","$refs","validate","valid","addUser","$message","success","$emit","component","tree","handleNodeClick","scopedSlots","_u","key","fn","deptName","columns","filters","options","proxy","tablePage","getList","components","AddUser","computed","apiFunc","queryUser","hideActionBtn","filter","h","params","props","activeColor","inactiveColor","row","status","change","newStatus","changeStatus","$createElement","filterData","created","node","$nextTick","userId"],"sourceRoot":""}